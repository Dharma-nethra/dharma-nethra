<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡∂∞‡∂ª‡∑ä‡∂∏ ‡∂±‡∑ö‡∂≠‡∑ä‚Äç‡∂ª‡∑è</title>

<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    
    <style>
        :root {
            --p-color: #d35400;
            --bg-color: #fffbf2;
            --card-bg: #ffffff;
            --text-main: #2c3e50;
            --header-bg: linear-gradient(135deg, #f39c12, #d35400);
        }

        .dark-mode {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #e0e0e0;
            --header-bg: linear-gradient(135deg, #2c3e50, #000000);
        }

/* ‡∑É‡∑ô‡∑Ä‡∑î‡∂∏‡∑ä ‡∂ö‡∑ú‡∂ß‡∑î‡∑Ä‡∑ö ‡∂¥‡∑ô‡∂±‡∑î‡∂∏ */
.search-container {
    background: var(--card-bg);
    margin: 10px 0 20px 0;
    padding: 10px 15px;
    border-radius: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    border: 1px solid #eee;
}

.search-container .material-icons-round {
    color: var(--inactive-color);
}

#searchInput {
    border: none;
    outline: none;
    background: transparent;
    width: 100%;
    font-size: 15px;
    font-weight: 600;
    color: var(--text-main);
}

        /* ‡∂Ü‡∂ª‡∂ö‡∑ä‚Äç‡∑Ç‡∑è‡∑Ä (Security) - Copy, Screenshot ‡∑Ä‡∑ê‡∂Ω‡∑ê‡∂ö‡∑ä‡∑Ä‡∑ì‡∂∏ */
        * {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            transition: 0.3s;
        }

        /* Header */
        .header-box {
            background: var(--header-bg);
            color: white;
            padding: 12px 15px;
            border-radius: 0 0 25px 25px;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .header-top { display: flex; justify-content: space-between; align-items: center; }
        .app-title { font-size: 22px; font-weight: bold; margin: 0; }
        .dark-icon { cursor: pointer; font-size: 18px; }
        .slogan { font-size: 11px; display: block; opacity: 0.9; font-style: italic; margin-top: -2px; }
        
        .meditation-bar {
            background: rgba(255, 255, 255, 0.15);
            padding: 4px 10px;
            border-radius: 12px;
            margin-top: 8px;
            text-align: center;
            font-size: 13px;
        }
        .timer-ctrl { background: white; color: var(--p-color); border: none; padding: 2px 8px; border-radius: 8px; font-size: 10px; margin-left: 5px; font-weight: bold; }

        .time-date-row {
            display: flex;
            justify-content: space-between;
            font-size: 10px;
            margin-top: 8px;
            border-top: 1px solid rgba(255,255,255,0.2);
            padding-top: 5px;
        }

        /* View Control - ‡∂¥‡∑í‡∂ß‡∑î ‡∂¥‡∑è‡∂Ω‡∂±‡∂∫ */
        .view-section { display: none; padding: 15px; padding-bottom: 90px; min-height: 80vh; }
        .active-view { display: block; animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Article Cards */
        .card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 18px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 6px solid var(--p-color);
            position: relative;
        }
        .card h3 { color: var(--p-color); margin: 0 0 8px; font-size: 17px; line-height: 1.4; padding-right: 30px; }
        .card p { color: var(--text-main); opacity: 0.8; font-size: 14px; line-height: 1.5; margin: 0; }
        .heart-icon { position: absolute; right: 15px; top: 18px; font-size: 20px; color: #ddd; cursor: pointer; }
        .heart-icon.fav-on { color: #e74c3c; }
        .read-status { font-size: 9px; background: #27ae60; color: white; padding: 2px 7px; border-radius: 10px; margin-left: 8px; font-weight: bold; vertical-align: middle; }

        /* Detail Page */
        #detail-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-color);
            z-index: 2000;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }
        .control-panel { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; background: var(--card-bg); padding: 10px; border-radius: 15px; }
        .audio-btn { background: #9b59b6; color: white; border: none; padding: 8px 15px; border-radius: 20px; font-size: 13px; }
        .article-text { font-size: 18px; line-height: 2.1; text-align: justify; white-space: pre-wrap; color: var(--text-main); }

        /* Bank Chart */
        .chart { width: 100%; border-collapse: collapse; margin-top: 15px; border-radius: 12px; overflow: hidden; background: white; }
        .chart td { padding: 15px; border: 1px solid #f1f1f1; font-size: 14px; color: #333; }
        .c-label { background: #fff8f0; color: var(--p-color); font-weight: bold; width: 35%; }

        /* Bottom Nav */
        /* ‡∂¥‡∑è‡∑Ä‡∑ô‡∂± ‡∂∂‡∑ú‡∂≠‡∑ä‡∂≠‡∂∏‡∑ä ‡∑Ä‡∑ê‡∂±‡∑í ‡∂±‡∑Ä‡∑ì‡∂± ‡∂∏‡∑ô‡∂±‡∑î ‡∂≠‡∑ì‡∂ª‡∑î‡∑Ä */
    .bottom-nav {
        position: fixed;
        bottom: 15px; /* ‡∂≠‡∑í‡∂ª‡∂∫‡∑ö ‡∂¥‡∂≠‡∑î‡∂Ω‡∑ô‡∂±‡∑ä ‡∂∏‡∂Ø‡∂ö‡∑ä ‡∂â‡∑Ñ‡∑Ö‡∂ß */
        left: 10px;
        right: 10px;
        background: var(--card-bg);
        display: flex;
        justify-content: space-around;
        padding: 12px 5px;
        border-radius: 22px; /* ‡∂ª‡∑Ä‡∑î‡∂∏‡∑ä ‡∂∂‡∑ú‡∂≠‡∑ä‡∂≠‡∂∏‡∑ä ‡∑Ñ‡∑ê‡∂©‡∂∫ */
        box-shadow: 0 10px 30px rgba(0,0,0,0.15); /* ‡∂¥‡∑ê‡∑Ñ‡∑ê‡∂Ø‡∑í‡∂Ω‡∑í ‡∑É‡∑ô‡∑Ä‡∂±‡∑ê‡∂Ω‡∑ä‡∂Ω‡∂ö‡∑ä */
        z-index: 1500;
        border: 1px solid rgba(0,0,0,0.05);
    }

    .nav-item {
        text-align: center;
        color: #95a5a6;
        flex: 1;
        cursor: pointer;
        transition: 0.3s;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    /* Google Material Icons ‡∂¥‡∑ô‡∂±‡∑î‡∂∏ */
    .nav-item .material-icons-round {
        font-size: 26px;
        margin-bottom: 2px;
    }

    /* ‡∂Ö‡∂ö‡∑î‡∂ª‡∑î ‡∂≠‡∂Ø (Bold) ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ */
    .nav-item b {
        font-size: 10px;
        font-weight: 800; /* ‡∂â‡∂≠‡∑è ‡∂≠‡∂Ø ‡∂Ö‡∂ö‡∑î‡∂ª‡∑î */
        letter-spacing: 0.3px;
        display: block;
    }

    /* ‡∂≠‡∑ù‡∂ª‡∑è‡∂ú‡∂≠‡∑ä ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä‡∑ö ‡∑Ä‡∂ª‡∑ä‡∂´‡∂∫ ‡∑É‡∑Ñ ‡∑Ñ‡∑ê‡∂©‡∂∫ */
    .nav-item.active {
        color: var(--p-color);
        transform: translateY(-3px); /* ‡∂∏‡∂Ø‡∂ö‡∑ä ‡∂â‡∑Ñ‡∑Ö‡∂ß ‡∂ë‡∑É‡∑Ä‡∑ì‡∂∏ */
    }

        /* Ping Potha Form */
        .merit-box { background: var(--card-bg); padding: 20px; border-radius: 20px; margin-bottom: 15px; }
        input, textarea { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 10px; border: 1px solid #ddd; box-sizing: border-box; font-family: inherit; }
    </style>
</head>
<body oncontextmenu="return false;">

    <div class="header-box">
        <div class="header-top">
            <h1 class="app-title">‡∂∞‡∂ª‡∑ä‡∂∏ ‡∂±‡∑ö‡∂≠‡∑ä‚Äç‡∂ª‡∑è</h1>
            <div class="dark-icon" onclick="toggleDark()">üåì</div>
        </div>
        <span class="slogan">"‡∂¥‡∑ä‚Äç‡∂ª‡∂•‡∑è‡∑Ä‡∑ö ‡∂Ü‡∂Ω‡∑ù‡∂ö‡∂∫ ‡∂¥‡∂≠‡∑î‡∂ª‡∑î‡∑Ä‡∂± ‡∑É‡∂Ø‡∑Ñ‡∂∏‡∑ä ‡∂Ö‡∑Ä‡∂ö‡∑è‡∑Å‡∂∫"</span>
        
        <div class="meditation-bar">
    üßò ‡∂∑‡∑è‡∑Ä‡∂±‡∑è ‡∂ö‡∑è‡∂Ω‡∂∫: <b id="timer-val">00:00:00</b>
    <div style="display: inline-flex; gap: 5px; margin-left: 10px;">
        <button class="timer-ctrl" onclick="controlTimer()" id="timer-btn">‡∂Ö‡∂ª‡∂π‡∂±‡∑ä‡∂±</button>
        <button class="timer-ctrl" onclick="resetTimer()" style="background: rgba(255,255,255,0.2); color: white;">‡∂∏‡∑î‡∂Ω‡∂ß</button>
    </div>
</div>

        <div class="time-date-row">
            <span id="si-time">‚è± ‡∂¥‡∑ñ‡∂ª‡∂´‡∂∫ ‡∑Ä‡∑ö...</span>
            <span id="si-date">üìÖ ‡∂¥‡∑ñ‡∂ª‡∂´‡∂∫ ‡∑Ä‡∑ö...</span>
        </div>
    </div>

    <div id="view-home" class="view-section active-view">

<div class="search-container">
    <span class="material-icons-round">search</span>
    <input type="text" id="searchInput" onkeyup="filterArticles()" placeholder="‡∂Ω‡∑í‡∂¥‡∑í ‡∑É‡∑ú‡∂∫‡∂±‡∑ä‡∂±...">
</div>

        <div id="article-list">
            <p style="text-align:center; opacity:0.5; margin-top:50px;">‡∑É‡∂Ø‡∑Ñ‡∂∏‡∑ä ‡∂Ω‡∑í‡∂¥‡∑í ‡∂¥‡∑ñ‡∂ª‡∂´‡∂∫ ‡∑Ä‡∑ô‡∂∏‡∑í‡∂±‡∑ä ‡∂¥‡∑Ä‡∂≠‡∑ì...</p>
        </div>
    </div>

    <div id="view-fav" class="view-section">
        <h2 style="color:var(--p-color); margin-top:0;">‚ù§Ô∏è ‡∂¥‡∑ä‚Äç‡∂ª‡∑í‡∂∫‡∂≠‡∂∏ ‡∂Ω‡∑í‡∂¥‡∑í</h2>
        <div id="fav-list">
            <p style="text-align:center; opacity:0.5;">‡∂≠‡∑Ä‡∂∏‡∂≠‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∑í‡∂∫‡∂≠‡∂∏ ‡∂Ω‡∑í‡∂¥‡∑í ‡∂±‡∑ê‡∂≠.</p>
        </div>
    </div>

    <div id="view-donate" class="view-section">
        <div class="merit-box">
            <h2 style="color:var(--p-color); text-align:center; margin-top:0;">‡∂¥‡∑í‡∂±‡∑ä‡∂ö‡∂∏‡∂ß ‡∂Ø‡∑è‡∂∫‡∂ö ‡∑Ä‡∂±‡∑ä‡∂±</h2>
            <p style="text-align: justify; line-height: 1.7; font-size: 15px;">‡∂∞‡∂ª‡∑ä‡∂∏ ‡∂±‡∑ö‡∂≠‡∑ä‚Äç‡∂ª‡∑è ‡∑É‡∂Ø‡∑Ñ‡∂∏‡∑ä ‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä ‡∂Ω‡∑ú‡∑Ä ‡∂¥‡∑î‡∂ª‡∑è ‡∑Ä‡∑í‡∑É‡∑í‡∂ª‡∑ì ‡∑É‡∑í‡∂ß‡∑í‡∂± ‡∑É‡∑ê‡∂Ø‡∑ê‡∑Ñ‡∑ê‡∑Ä‡∂≠‡∑î‡∂±‡∑ä ‡∑Ä‡∑ô‡∂≠ ‡∂Ö‡∂õ‡∂´‡∑ä‡∂©‡∑Ä ‡∑É‡∑Ñ ‡∂±‡∑ú‡∂∏‡∑í‡∂Ω‡∑ö ‡∑É‡∂∏‡∑ì‡∂¥ ‡∂ö‡∂ª‡∑Ä‡∑ì‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∂∏‡∑ô‡∂∏ ‡∂¢‡∂Ç‡∂ú‡∂∏ ‡∂∫‡∑ô‡∂Ø‡∑î‡∂∏ ‡∂±‡∂©‡∂≠‡∑ä‡∂≠‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∑É‡∑Ñ ‡∂ë‡∑Ñ‡∑í ‡∂±‡∑Ä‡∑ì‡∂ö‡∂ª‡∂´ ‡∂ö‡∂ß‡∂∫‡∑î‡∂≠‡∑î ‡∑É‡∑í‡∂Ø‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∑Ä‡∑í‡∑Å‡∑è‡∂Ω ‡∂¥‡∑í‡∂ª‡∑í‡∑Ä‡∑ê‡∂∫‡∂ö‡∑ä ‡∑Ä‡∑ê‡∂∫ ‡∑Ä‡∑ö. ‡∂∏‡∑ô‡∂∏ ‡∂ã‡∂≠‡∑î‡∂∏‡∑ä ‡∂∞‡∂ª‡∑ä‡∂∏ ‡∂¥‡∑ä‚Äç‡∂ª‡∂†‡∑è‡∂ª‡∂ö ‡∂ö‡∂ß‡∂∫‡∑î‡∂≠‡∑ä‡∂≠‡∂ß ‡∂î‡∂∂‡∂ú‡∑ö ‡∑Å‡∂ö‡∑ä‡∂≠‡∑í ‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫‡∑ô‡∂±‡∑ä ‡∂Ø‡∑è‡∂∫‡∂ö ‡∑Ä‡∑ì‡∂∏ ‡∂∏‡∑Ñ‡∑è ‡∂¥‡∑í‡∂±‡∑ä‡∂ö‡∂∏‡∂ö‡∑í.</p>
            
            <table class="chart">
                <tr><td class="c-label">‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∑ä ‡∂Ö‡∂Ç‡∂ö‡∂∫</td><td>89862879</td></tr>
                <tr><td class="c-label">‡∑Ñ‡∑í‡∂∏‡∑í‡∂ö‡∂ª‡∑î</td><td>A Udara Sandaruwan</td></tr>
                <tr><td class="c-label">‡∂∂‡∑ê‡∂Ç‡∂ö‡∑î‡∑Ä</td><td>Bank of Ceylon (BOC)</td></tr>
                <tr><td class="c-label">‡∑Å‡∑è‡∂õ‡∑è‡∑Ä</td><td>Kiriella Branch</td></tr>
            </table>

            <div style="text-align:center; margin-top:25px;">
                <p style="font-size:13px; font-weight:bold;">‡∂ª‡∑í‡∑É‡∑í‡∂ß‡∑ä‡∂¥‡∂≠ ‡∂∫‡∑ú‡∂∏‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è:</p>
                <a href="https://wa.me/94763861339?text=‡∂¥‡∑í‡∂±‡∑ä‡∂ö‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è ‡∂Ω‡∂∂‡∑è ‡∂Ø‡∑î‡∂±‡∑ä ‡∂Ü‡∂∞‡∑è‡∂ª‡∂∫‡∑ö ‡∂ª‡∑í‡∑É‡∑í‡∂ß‡∑ä‡∂¥‡∂≠‡∂∫‡∑í:" style="text-decoration:none; background:#25D366; color:white; padding:12px 25px; border-radius:30px; display:inline-flex; align-items:center; gap:10px; font-weight:bold;">
                    <span style="font-size:20px;">üí¨</span> WhatsApp ‡∂ë‡∑Ä‡∂±‡∑ä‡∂±
                </a>
            </div>
        </div>
    </div>

    <div id="view-contact" class="view-section">
        <div class="card" style="border:none;">
            <h3>üôè ‡∂ú‡∑û‡∂ª‡∑Ä‡∂´‡∑ì‡∂∫ ‡∑É‡∑ä‡∑Ä‡∑è‡∂∏‡∑í‡∂±‡∑ä ‡∑Ä‡∑Ñ‡∂±‡∑ä‡∑É‡∑ö</h3>
            <p style="color:#e67e22; font-weight:bold; margin-bottom:10px;">‚ö†Ô∏è ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂± ‡∂á‡∂∏‡∂≠‡∑î‡∂∏‡∑ä ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∑ô‡∂±‡∑ä ‡∑Ä‡∑Ö‡∂ö‡∑í‡∂±‡∑ä‡∂±.</p>
            <a href="https://wa.me/94778803779" style="text-decoration:none; color:#25D366; font-weight:bold; font-size:18px;">üí¨ +94 77 880 3779 (WhatsApp)</a>
            <p style="margin-top:15px; font-size:13px;">üìß anhettigamapodihamuduruwo@gmail.com</p>
        </div>
        <div class="card" style="border:none;">
            <h3>‚öôÔ∏è ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∑í‡∂ö ‡∂ö‡∂´‡∑ä‡∂©‡∑è‡∂∫‡∂∏</h3>
            <p>‡∂∫‡∑ô‡∂Ø‡∑î‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∑í‡∂ö ‡∂ú‡∑ê‡∂ß‡∑Ö‡∑î ‡∑É‡∂≥‡∑Ñ‡∑è ‡∑É‡∂∏‡∑ä‡∂∂‡∂±‡∑ä‡∂∞ ‡∑Ä‡∂±‡∑ä‡∂±:</p>
            <a href="https://wa.me/94763861339" style="text-decoration:none; color:#34495e; font-weight:bold; font-size:18px;">üí¨ +94 76 386 1339 (WhatsApp)</a>
        </div>
    </div>

    <div id="view-about" class="view-section">
        <div class="merit-box">
            <h2 style="color:var(--p-color); text-align:center; margin-top:0;">‡∂Ö‡∂¥ ‡∂ú‡∑ê‡∂±</h2>
            <div style="text-align: justify; line-height: 1.8; font-size: 15px;">
                <p><b>‡∂¥‡∑ñ‡∂¢‡∑ä‚Äç‡∂∫‡∂¥‡∑è‡∂Ø ‡∂Ö‡∂Ç‡∑Ñ‡∑ô‡∂ß‡∑ä‡∂ß‡∑í‡∂ú‡∂∏ ‡∑É‡∑î‡∂ú‡∂≠‡∑è‡∂±‡∂±‡∑ä‡∂Ø ‡∑É‡∑ä‡∑Ä‡∑è‡∂∏‡∑ì‡∂±‡∑ä ‡∑Ä‡∑Ñ‡∂±‡∑ä‡∑É‡∑ö</b> ‡∂∫‡∂±‡∑î ‡∂∏‡∑ñ‡∂Ω‡∑í‡∂ö ‡∂¥‡∑í‡∂ª‡∑í‡∑Ä‡∑ô‡∂±‡∑ä ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∂±‡∂∫, ‡∂¥‡∑ä‚Äç‡∂ª‡∑è‡∂†‡∑ì‡∂± ‡∂∑‡∑è‡∑Ç‡∑è ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∂±‡∂∫ ‡∑É‡∑Ñ ‡∂≠‡∑ä‚Äç‡∂ª‡∑í‡∂¥‡∑í‡∂ß‡∂ö ‡∂∞‡∂ª‡∑ä‡∂∏ ‡∂Ö‡∂∞‡∑ä‚Äç‡∂∫‡∑è‡∂¥‡∂±‡∂∫ ‡∂∏‡∑ê‡∂±‡∑Ä‡∑í‡∂±‡∑ä ‡∑Ñ‡∂Ø‡∑è‡∂ª‡∑è ‡∂á‡∂≠‡∑í ‡∂ú‡∑û‡∂ª‡∑Ä‡∂±‡∑ì‡∂∫ ‡∑É‡∑ä‡∑Ä‡∑è‡∂∏‡∑ì‡∂±‡∑ä ‡∑Ä‡∑Ñ‡∂±‡∑ä‡∑É‡∑ö ‡∂±‡∂∏‡∂ö‡∑í. ‡∂ã‡∂±‡∑ä‡∑Ä‡∑Ñ‡∂±‡∑ä‡∑É‡∑ö ‡∂Ω‡∑ö‡∂õ‡∂± ‡∂ö‡∂Ω‡∑è‡∑Ä‡∑ô‡∑Ñ‡∑í ‡∂∏‡∑ô‡∂±‡∑ä‡∂∏ ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∑Ä‡∑ö‡∂Ø‡∂∫ (Diploma in Information Technology) ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥‡∑Ä‡∂Ø ‡∑Ñ‡∑É‡∂Ω ‡∂Ø‡∑ê‡∂±‡∑î‡∂∏‡∂ö‡∑ä ‡∂á‡∂≠‡∑í ‡∂≠‡∂ª‡∑î‡∂´ ‡∂∫‡∂≠‡∑í‡∑Ä‡∂ª‡∂∫‡∑è‡∂´‡∂±‡∑ä ‡∑Ä‡∑Ñ‡∂±‡∑ä‡∑É‡∑ö ‡∂±‡∂∏‡∂ö‡∑í.</p>
                <p>‡∂ú‡∑û‡∂ª‡∑Ä‡∂´‡∑ì‡∂∫ ‡∑É‡∑ä‡∑Ä‡∑è‡∂∏‡∑í‡∂±‡∑ä ‡∑Ä‡∑Ñ‡∂±‡∑ä‡∑É‡∑ö‡∂ú‡∑ö ‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂Ö‡∑Ä‡∑É‡∂ª‡∂∫ ‡∑É‡∑Ñ ‡∂∏‡∂ü ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏ ‡∂∫‡∂ß‡∂≠‡∑ö <b>GMU STUDIO (PVT) LTD</b> ‡∂Ü‡∂∫‡∂≠‡∂±‡∂∫ ‡∑Ä‡∑í‡∑É‡∑í‡∂±‡∑ä ‡∂∏‡∑ô‡∂∏ "‡∂∞‡∂ª‡∑ä‡∂∏ ‡∂±‡∑ö‡∂≠‡∑ä‚Äç‡∂ª‡∑è" ‡∂∫‡∑ô‡∂Ø‡∑î‡∂∏ ‡∂±‡∑í‡∂ª‡∑ä‡∂∏‡∑è‡∂´‡∂∫ ‡∂ö‡∑ú‡∂ß ‡∂¥‡∑Ä‡∂≠‡∑ä‡∑Ä‡∑è ‡∂ú‡∑ô‡∂± ‡∂∫‡∂±‡∑î ‡∂Ω‡∂∂‡∂∫‡∑í. ‡∂Ö‡∂¥‡∂ú‡∑ö ‡∂Ö‡∂ª‡∂∏‡∑î‡∂´ ‡∂±‡∑ñ‡∂≠‡∂± ‡∂≠‡∑è‡∂ö‡∑ä‡∑Ç‡∂´‡∂∫ ‡∑Ñ‡∂ª‡∑Ñ‡∑è ‡∂¥‡∑í‡∂ª‡∑í‡∑É‡∑í‡∂Ø‡∑î ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∑É‡∂Ø‡∑ä‡∂∞‡∂ª‡∑ä‡∂∏‡∂∫ ‡∂Ω‡∑ú‡∑Ä ‡∂¥‡∑î‡∂ª‡∑è ‡∂¥‡∑ä‚Äç‡∂ª‡∂†‡∂Ω‡∑í‡∂≠ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂∫‡∑í.</p>
            </div>
        </div>
    </div>

    <div id="view-merit" class="view-section">
        <div class="merit-box">
            <h3 style="color:var(--p-color); margin-top:0;">üìù ‡∂¥‡∑í‡∂Ç ‡∂¥‡∑ú‡∂≠</h3>
            <input type="date" id="merit-date">
            <textarea id="merit-text" placeholder="‡∂Ö‡∂Ø ‡∑É‡∑í‡∂Ø‡∑î‡∂ö‡∑Ö ‡∂ã‡∂≠‡∑î‡∂∏‡∑ä ‡∂¥‡∑í‡∂Ç‡∂ö‡∂∏‡∑ä ‡∂∏‡∑ô‡∂≠‡∑ê‡∂± ‡∂Ω‡∑í‡∂∫‡∂±‡∑ä‡∂±..."></textarea>
            <button style="background:var(--p-color); color:white; border:none; padding:12px; width:100%; border-radius:10px; font-weight:bold;" onclick="addMerit()">‡∂¥‡∑í‡∂Ç ‡∂¥‡∑ú‡∂≠‡∂ß ‡∂ë‡∂ö‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</button>
        </div>
        <div id="merit-list-container"></div>
    </div>

    <div id="detail-overlay">
        <div class="control-panel">
            <button onclick="closeDetail()" style="background:#34495e; color:white; border:none; padding:8px 15px; border-radius:10px;">‚¨Ö ‡∂Ü‡∂¥‡∑É‡∑î</button>
            <div style="display:flex; gap:5px;">
                <button onclick="zoom(2)" style="border:none; padding:8px 12px; border-radius:8px;">A+</button>
                <button onclick="zoom(-2)" style="border:none; padding:8px 12px; border-radius:8px;">A-</button>
            </div>
            <button class="audio-btn" id="listen-btn" onclick="toggleAudio()">üîä ‡∑Å‡∑ä‚Äç‡∂ª‡∑Ä‡∂´‡∂∫</button>
        </div>
        
        <h2 id="full-title" style="color:var(--p-color); line-height:1.4;"></h2>
        <div id="full-content" class="article-text"></div>

        <div style="margin-top:40px; padding:25px; background:var(--card-bg); border-radius:25px; text-align:center; border:1px solid #eee; box-shadow: 0 8px 20px rgba(0,0,0,0.05);">
    <p style="font-weight:bold; margin-bottom:20px; color:#2c3e50; font-size:16px;">‡∂Ω‡∑í‡∂¥‡∑í‡∂∫ ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥‡∑Ä ‡∑Ä‡∑í‡∂∏‡∑É‡∑ì‡∂∏‡∂ß:</p>
    <div style="display:flex; justify-content:center; gap:40px;">
        <a id="wa-inquiry" href="#" style="text-decoration:none; transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
            <img src="https://img.icons8.com/color/96/whatsapp.png" style="width:55px; height:55px;" alt="WhatsApp">
        </a>
        <a id="mail-inquiry" href="#" style="text-decoration:none; transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
            <img src="https://img.icons8.com/color/96/gmail-new.png" style="width:55px; height:55px;" alt="Email">
        </a>
    </div>
</div>

        <div style="display:flex; justify-content:space-between; margin-top:30px; margin-bottom:50px;">
            <button style="background:#7f8c8d; color:white; border:none; padding:10px 20px; border-radius:20px;" onclick="closeDetail()">‡∂∏‡∑î‡∂Ω‡∑ä ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä‡∂ß</button>
            <div style="display:flex; gap:10px;">
                <button style="background:var(--p-color); color:white; border:none; padding:10px 20px; border-radius:20px;">‚¨Ö ‡∂¥‡∑ô‡∂ª</button>
                <button style="background:var(--p-color); color:white; border:none; padding:10px 20px; border-radius:20px;">‡∂∏‡∑ì‡∑Ö‡∂ü ‚û°</button>
            </div>
        </div>
    </div>

   <div class="bottom-nav">
    <div class="nav-item on" onclick="nav('home')">
        <span class="material-icons-round">home</span>
        <b>‡∂∏‡∑î‡∂Ω</b>
    </div>
    <div class="nav-item" onclick="nav('fav')">
        <span class="material-icons-round">favorite</span>
        <b>‡∂¥‡∑ä‚Äç‡∂ª‡∑í‡∂∫‡∂≠‡∂∏</b>
    </div>
    <div class="nav-item" onclick="nav('merit')">
        <span class="material-icons-round">auto_stories</span>
        <b>‡∂¥‡∑í‡∂Ç ‡∂¥‡∑ú‡∂≠</b>
    </div>
    <div class="nav-item" onclick="nav('donate')">
        <span class="material-icons-round">volunteer_activism</span>
        <b>‡∂Ü‡∂∞‡∑è‡∂ª</b>
    </div>
    <div class="nav-item" onclick="nav('contact')">
        <span class="material-icons-round">call</span>
        <b>‡∑É‡∂∏‡∑ä‡∂∂‡∂±‡∑ä‡∂∞‡∂≠‡∑è</b>
    </div>
    <div class="nav-item" onclick="nav('about')">
        <span class="material-icons-round">info</span>
        <b>‡∂Ö‡∂¥ ‡∂ú‡∑ê‡∂±</b>
    </div>
</div>

    <script>
        // --- Firebase Configuration ---
        const firebaseConfig = {
            apiKey: "AIzaSyDEiwhtAIdoqdMIV5n_bdDoKuIrCkjqr3M",
            authDomain: "dharma-nethra.firebaseapp.com",
            databaseURL: "https://dharma-nethra-default-rtdb.firebaseio.com",
            projectId: "dharma-nethra",
            storageBucket: "dharma-nethra.firebasestorage.app",
            messagingSenderId: "365410669829",
            appId: "1:365410669829:web:d9a9465ed1f1f2b792936c"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // App States
        let favs = JSON.parse(localStorage.getItem('myFavs') || '[]');
        let readList = JSON.parse(localStorage.getItem('myReads') || '[]');
        let timerActive = false;
        let timeCount = 0;
        let timerPtr;
        let synth = window.speechSynthesis;
        let curArticle = "";

        // Clock Logic
        function updateClock() {
            const now = new Date();
            const time = now.toLocaleTimeString('si-LK', { hour12: true, hour: '2-digit', minute: '2-digit' });
            const date = now.toLocaleDateString('si-LK', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' });
            document.getElementById('si-time').innerText = "‚è± " + time;
            document.getElementById('si-date').innerText = "üìÖ " + date;
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Timer Logic
        function controlTimer() {
            if(!timerActive) {
                timerActive = true;
                document.getElementById('timer-btn').innerText = "‡∂±‡∑Ä‡∂≠‡∂±‡∑ä‡∂±";
                timerPtr = setInterval(() => {
                    timeCount++;
                    let h = Math.floor(timeCount/3600).toString().padStart(2,'0');
                    let m = Math.floor((timeCount%3600)/60).toString().padStart(2,'0');
                    let s = (timeCount%60).toString().padStart(2,'0');
                    document.getElementById('timer-val').innerText = `${h}:${m}:${s}`;
                }, 1000);
            } else {
                timerActive = false;
                document.getElementById('timer-btn').innerText = "‡∂Ö‡∂ª‡∂π‡∂±‡∑ä‡∂±";
                clearInterval(timerPtr);
            }
        }

    // ‡∂∑‡∑è‡∑Ä‡∂±‡∑è ‡∂ö‡∑è‡∂Ω‡∂∫ ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂∏‡∑î‡∂Ω ‡∑É‡∑í‡∂ß ‡∂Ü‡∂ª‡∂∏‡∑ä‡∂∑ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏ (Reset)
    function resetTimer() {
        timerActive = false;
        clearInterval(timerPtr);
        timeCount = 0;
        document.getElementById('timer-val').innerText = "00:00:00";
        document.getElementById('timer-btn').innerText = "‡∂Ö‡∂ª‡∂π‡∂±‡∑ä‡∂±";
    }

// ‡∂Ω‡∑í‡∂¥‡∑í ‡∑É‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ö ‡∂ö‡∑ä‚Äç‡∂ª‡∑í‡∂∫‡∑è‡∑Ä‡∂Ω‡∑í‡∂∫
function filterArticles() {
    let input = document.getElementById('searchInput').value.toLowerCase();
    let cards = document.getElementById('list').getElementsByClassName('card');

    for (let i = 0; i < cards.length; i++) {
        let title = cards[i].getElementsByTagName('h3')[0].innerText.toLowerCase();
        let content = cards[i].getElementsByTagName('p')[0].innerText.toLowerCase();
        
        if (title.includes(input) || content.includes(input)) {
            cards[i].style.display = "";
        } else {
            cards[i].style.display = "none";
        }
    }
}

        // Article Loading
        // ‡∂Ω‡∑í‡∂¥‡∑í ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂¥‡∂Ø‡∑ä‡∂∞‡∂≠‡∑í‡∂∫‡∑ô‡∂±‡∑ä ‡∂Ω‡∂∂‡∑è‡∂ú‡∑ô‡∂± ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏
db.ref('articles').on('value', (snap) => {
    const list = document.getElementById('article-list');
    list.innerHTML = ''; // ‡∂¥‡∑ê‡∂ª‡∂´‡∑í ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂∏‡∂ö‡∑è ‡∂Ø‡∑ê‡∂∏‡∑ì‡∂∏

    if (snap.exists()) {
        snap.forEach((child) => {
            const a = child.val();
            const id = child.key;

            // ‡∂∏‡∑ô‡∂±‡∑ä‡∂± ‡∂∏‡∑ô‡∂≠‡∑ê‡∂± class="card" ‡∂∫‡∂±‡∑ä‡∂± ‡∂ë‡∂ö‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∑ô‡∂±‡∑ä ‡∑É‡∑ô‡∑Ä‡∑î‡∂∏‡∑ä ‡∂∫‡∂±‡∑ä‡∂≠‡∑ä‚Äç‡∂ª‡∂∫ ‡∂ö‡∑ä‚Äç‡∂ª‡∑í‡∂∫‡∑è ‡∂ö‡∂ª‡∂∫‡∑í
            list.innerHTML += `
                <div class="card" onclick="openDetail('${id}')" style="margin-bottom:15px; cursor:pointer;">
                    <h3>${a.title}</h3>
                    <p style="font-size:14px; opacity:0.8;">${a.content.substring(0, 100)}...</p>
                </div>
            `;
        });
    } else {
        list.innerHTML = '<p style="text-align:center; opacity:0.5;">‡∂≠‡∑Ä‡∂∏‡∂≠‡∑ä ‡∂Ω‡∑í‡∂¥‡∑í ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∂≠.</p>';
    }
});

        // Navigation
        function nav(view) {
            document.querySelectorAll('.view-section').forEach(s => s.classList.remove('active-view'));
            document.getElementById('view-' + view).classList.add('active-view');
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            event.currentTarget.classList.add('active');
            if(view === 'merit') showMerits();
            if(view === 'fav') showFavs();
            window.scrollTo(0,0);
        }

        // Full Article
        function openFull(id) {
            db.ref('articles/' + id).once('value').then(snap => {
                const a = snap.val();
                document.getElementById('full-title').innerText = a.title;
                document.getElementById('full-content').innerText = a.content;
                
                // Inquiry links
                document.getElementById('wa-inquiry').href = `https://wa.me/94778803779?text=‡∂ú‡∑û‡∂ª‡∑Ä‡∂±‡∑ì‡∂∫ ‡∑É‡∑ä‡∑Ä‡∑è‡∂∏‡∑í‡∂±‡∑ä ‡∑Ä‡∑Ñ‡∂±‡∑ä‡∑É, '${a.title}' ‡∂Ω‡∑í‡∂¥‡∑í‡∂∫ ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥‡∑Ä‡∂∫‡∑í:`;
                document.getElementById('mail-inquiry').href = `mailto:anhettigamapodihamuduruwo@gmail.com?subject=‡∂Ω‡∑í‡∂¥‡∑í‡∂∫ ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥ ‡∑Ä‡∑í‡∂∏‡∑É‡∑ì‡∂∏&body=‡∂ú‡∑û‡∂ª‡∑Ä‡∂±‡∑ì‡∂∫ ‡∑É‡∑ä‡∑Ä‡∑è‡∂∏‡∑í‡∂±‡∑ä ‡∑Ä‡∑Ñ‡∂±‡∑ä‡∑É, '${a.title}' ‡∂Ω‡∑í‡∂¥‡∑í‡∂∫ ‡∂¥‡∑í‡∑Ö‡∑í‡∂∂‡∂≥‡∑Ä‡∂∫‡∑í:`;

                if(!readList.includes(id)) {
                    readList.push(id);
                    localStorage.setItem('myReads', JSON.stringify(readList));
                }
                document.getElementById('detail-overlay').style.display = 'block';
            });
        }

        function closeDetail() { 
            document.getElementById('detail-overlay').style.display = 'none'; 
            synth.cancel();
            document.getElementById('listen-btn').innerText = "üîä ‡∑Å‡∑ä‚Äç‡∂ª‡∑Ä‡∂´‡∂∫";
        }

        // Favorites
        function doFav(id, e) {
            e.stopPropagation();
            if(favs.includes(id)) favs = favs.filter(i => i !== id);
            else favs.push(id);
            localStorage.setItem('myFavs', JSON.stringify(favs));
            location.reload();
        }

        function showFavs() {
            const list = document.getElementById('fav-list');
            list.innerHTML = '';
            if(favs.length === 0) { list.innerHTML = '<p style="text-align:center; opacity:0.5;">‡∂≠‡∑Ä‡∂∏‡∂≠‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∑í‡∂∫‡∂≠‡∂∏ ‡∂Ω‡∑í‡∂¥‡∑í ‡∂±‡∑ê‡∂≠.</p>'; return; }
            favs.forEach(id => {
                db.ref('articles/' + id).once('value').then(s => {
                    const a = s.val();
                    list.innerHTML += `<div class="card" onclick="openFull('${id}')"><h3>${a.title}</h3><p>${a.content.substring(0,100)}...</p></div>`;
                });
            });
        }

        // Merit Book
        function addMerit() {
            const date = document.getElementById('merit-date').value;
            const text = document.getElementById('merit-text').value;
            if(date && text) {
                let m = JSON.parse(localStorage.getItem('myMerits') || '[]');
                m.push({date, text});
                localStorage.setItem('myMerits', JSON.stringify(m));
                document.getElementById('merit-text').value = '';
                showMerits();
            }
        }

        function showMerits() {
            const div = document.getElementById('merit-list-container');
            let m = JSON.parse(localStorage.getItem('myMerits') || '[]');
            div.innerHTML = m.reverse().map(i => `<div style="background:#eafaf1; padding:15px; border-radius:15px; margin-bottom:10px; border-left:4px solid #2ecc71; color:#2c3e50;"><b>${i.date}</b><br>${i.text}</div>`).join('');
        }

        // UI Extras
        function toggleDark() { document.body.classList.toggle('dark-mode'); }
        
        let fSize = 18;
        function zoom(v) {
            fSize += v;
            document.getElementById('full-content').style.fontSize = fSize + 'px';
        }

        function toggleAudio() {
            if(synth.speaking) {
                synth.cancel();
                document.getElementById('listen-btn').innerText = "üîä ‡∑Å‡∑ä‚Äç‡∂ª‡∑Ä‡∂´‡∂∫";
            } else {
                let utter = new SpeechSynthesisUtterance(document.getElementById('full-content').innerText);
                utter.lang = 'si-LK';
                synth.speak(utter);
                document.getElementById('listen-btn').innerText = "üõë ‡∂±‡∑Ä‡∂≠‡∂±‡∑ä‡∂±";
            }
        }

        // Anti-Screenshot / Key block
        document.addEventListener('keydown', (e) => {
            if(e.key === "PrintScreen" || (e.ctrlKey && (e.key === 'p' || e.key === 's'))) {
                e.preventDefault();
                alert("‡∂Ü‡∂ª‡∂ö‡∑ä‚Äç‡∑Ç‡∑í‡∂≠ ‡∑Ñ‡∑ö‡∂≠‡∑ñ‡∂±‡∑ä ‡∂∏‡∂≠ ‡∂∏‡∑ô‡∂∫ ‡∂Ö‡∑Ä‡∑Ñ‡∑í‡∂ª ‡∂ö‡∂ª ‡∂á‡∂≠.");
            }
        });
    </script>
</body>
</html>